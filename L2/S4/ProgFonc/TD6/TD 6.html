<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
 lang="fr" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    TD 6    [Spicher]
  </title>

  <meta name="generator" content="DokuWiki Release 2009-12-25c &quot;Lemming&quot;" />
<meta name="robots" content="noindex,nofollow" />
<meta name="date" content="2016-03-28T17:27:22+0200" />
<meta name="keywords" content="l2info,progfct,td6,start" />
<link rel="search" type="application/opensearchdescription+xml" href="/~aspicher/Wiki/lib/exe/opensearch.php" title="Spicher" />
<link rel="start" href="/~aspicher/Wiki/" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/~aspicher/Wiki/feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="/~aspicher/Wiki/feed.php?mode=list&amp;ns=l2info:progfct:td6" />
<link rel="alternate" type="text/html" title="Plain HTML" href="/~aspicher/Wiki/_export/xhtml/l2info/progfct/td6/start" />
<link rel="canonical" href="http://www.lacl.fr/~aspicher/Wiki/l2info/progfct/td6/start" />
<link rel="stylesheet" media="all" type="text/css" href="/~aspicher/Wiki/lib/exe/css.php?s=all&amp;t=default&amp;tseed=1397811412" />
<link rel="stylesheet" media="screen" type="text/css" href="/~aspicher/Wiki/lib/exe/css.php?t=default&amp;tseed=1397811412" />
<link rel="stylesheet" media="print" type="text/css" href="/~aspicher/Wiki/lib/exe/css.php?s=print&amp;t=default&amp;tseed=1397811412" />
<script type="text/javascript" charset="utf-8" ><!--//--><![CDATA[//><!--
var NS='l2info:progfct:td6';var SIG=' --- //[[antoine.spicher@u-pec.fr|L2 Informatique]] 2016/03/31 17:57//';var JSINFO = {"id":"l2info:progfct:td6:start","namespace":"l2info:progfct:td6"};
//--><!]]></script>
<script type="text/javascript" charset="utf-8" src="/~aspicher/Wiki/lib/exe/js.php?tseed=1397811412" ></script>

  <link rel="shortcut icon" href="/~aspicher/Wiki/lib/tpl/default/images/favicon.ico" />

  </head>

<body>
<div class="dokuwiki">
  
  <div class="stylehead">

    <div class="header">
      <div class="pagename">
        [[<a href="/~aspicher/Wiki/l2info/progfct/td6/start?do=backlink"  title="Liens vers cette page">TD 6</a>]]
      </div>
      <div class="logo">
        <a href="/~aspicher/Wiki/"  name="dokuwiki__top" id="dokuwiki__top" accesskey="h" title="[H]">Spicher</a>      </div>

      <div class="clearer"></div>
    </div>

    
    <div class="bar" id="bar__top">
      <div class="bar-left" id="bar__topleft">
                      </div>

      <div class="bar-right" id="bar__topright">
                &nbsp;
      </div>

      <div class="clearer"></div>
    </div>

        <div class="breadcrumbs">
      <span class="bchead">Piste:</span> <span class="bcsep">&raquo;</span> <a href="/~aspicher/Wiki/start"  class="breadcrumbs" title="start">Accueil</a> <span class="bcsep">&raquo;</span> <a href="/~aspicher/Wiki/l2info/progfct/start"  class="breadcrumbs" title="l2info:progfct:start">Programmation fonctionnelle</a> <span class="bcsep">&raquo;</span> <span class="curid"><a href="/~aspicher/Wiki/l2info/progfct/td6/start"  class="breadcrumbs" title="l2info:progfct:td6:start">TD 6</a></span>          </div>
    
    
  </div>
  
  
  <div class="page">
    <!-- wikipage start -->
    <!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table des matières</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="#td_6" class="toc">TD 6</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#chasse_au_tresor" class="toc">Chasse au trésor</a></span></div>
<ul class="toc">
<li class="level3"><div class="li"><span class="li"><a href="#directives_elementaires" class="toc">Directives élémentaires</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="#pistes" class="toc">Pistes</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="#deplacement" class="toc">Déplacement</a></span></div></li></ul>
</li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->



<h1><a name="td_6" id="td_6">TD 6</a></h1>
<div class="level1">

</div>

<h2><a name="chasse_au_tresor" id="chasse_au_tresor">Chasse au trésor</a></h2>
<div class="level2">

<p>

On souhaite représenter et manipuler en OCaml les directives utilisées dans les descriptions de pistes de carte au trésor. Par exemple :
</p>
<blockquote><div class="no">
   <em>Avancer de 4 pas, tourner à gauche ; reculer de 10 pas, etc.</em></div></blockquote>

</div>

<h3><a name="directives_elementaires" id="directives_elementaires">Directives élémentaires</a></h3>
<div class="level3">

<p>

(Cette partie n&#039;est pas sans rappeler l&#039;<a href="/~aspicher/Wiki/l2info/progfct/td4/start#direction" class="wikilink1" title="l2info:progfct:td4:start">exercice sur les directions du TD 4</a>.
</p>

<p>
On suppose que les directives simples sont :
</p>
<ul>
<li class="level1"><div class="li"> <em>Avancer d&#039;un pas en avant</em></div>
</li>
<li class="level1"><div class="li"> <em>Reculer d&#039;un pas en arrière</em></div>
</li>
<li class="level1"><div class="li"> <em>Tourner à gauche</em></div>
</li>
<li class="level1"><div class="li"> <em>Tourner à droite</em></div>
</li>
</ul>

</div>

<h4><a name="questions" id="questions">Questions</a></h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Définir le type <code>orientation</code> des 4 orientations : <em>nord</em>, <em>sud</em>, <em>est</em>, <em>ouest</em></div>
</li>
<li class="level1"><div class="li"> Définir le type <code>directive</code> des 4 directives simples</div>
</li>
<li class="level1"><div class="li"> Définir la fonction <code>inverse: directive → directive</code> inversant une directive</div>
</li>
</ol>

</div>

<h3><a name="pistes" id="pistes">Pistes</a></h3>
<div class="level3">

<p>

Une piste pour atteindre le trésor peut être vue comme une suite de <code>directive</code>s. Une structure récursive simple se présente en se disant qu&#039;une piste est :
</p>
<ul>
<li class="level1"><div class="li"> <strong>soit</strong> <em>stop</em> : plus aucun mouvement n&#039;est à effectuer pour atteindre le trésor (on est arrivé)</div>
</li>
<li class="level1"><div class="li"> <strong>soit</strong> composé :</div>
<ul>
<li class="level2"><div class="li"> d&#039;une directive indiquant le mouvement élémentaire suivant pour progresser, <strong>et</strong></div>
</li>
<li class="level2"><div class="li"> du reste des instructions à suivre pour atteindre le trésor.</div>
</li>
</ul>
</li>
</ul>

</div>

<h4><a name="questions1" id="questions1">Questions</a></h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Définir le type <strong>récursif</strong> <code>path</code> permettant de représenter les pistes telles que décrites ci-dessus</div>
</li>
<li class="level1"><div class="li"> Définir les valeurs/fonctions de construction de piste permettant d&#039;autoriser l&#039;expression suivante :<pre class="code ocaml"><span class="kw1">let</span> p <span class="sy0">=</span> forward <span class="br0">&#40;</span>forward <span class="br0">&#40;</span>left <span class="br0">&#40;</span>backward <span class="br0">&#40;</span>left <span class="br0">&#40;</span>forward stop<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">;;</span></pre>
</div>
<ul>
<li class="level2"><div class="li"> <code>stop: path</code> représentant une piste sans directive</div>
</li>
<li class="level2"><div class="li"> <code>forward: path → path</code> qui ajoute à une piste le fait de commencer par avancer d&#039;un pas</div>
</li>
<li class="level2"><div class="li"> <code>backward: path → path</code> qui ajoute à une piste le fait de commencer par reculer d&#039;un pas</div>
</li>
<li class="level2"><div class="li"> <code>left: path → path</code> qui ajoute à une piste le fait de commencer par tourner à gauche</div>
</li>
<li class="level2"><div class="li"> <code>right: path → path</code> qui ajoute à une piste le fait de commencer par tourner à droite</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Définir la fonction <strong>récursive</strong> <code>string_of_path: path → string</code> qui retourne une chaîne de caractères décrivant les étapes successives d&#039;une piste ; pour l&#039;exemple précédent la fonction devrait retourner<pre class="code ocaml"><span class="st0">&quot;Avancer d'un pas ; Avancer d'un pas ; Tourner à gauche ; Reculer d'un pas ; Tourner à gauche ; Avancer d'un pas&quot;</span></pre>

<p>
 (On notera l&#039;absence de <code>;</code> à la fin de la chaîne)
</p>
</div>
</li>
<li class="level1"><div class="li"> Définir la fonction <strong>récursive</strong> <code>number_of_steps: path → int</code> retournant le nombre total de pas à effectuer en suivant une piste</div>
</li>
<li class="level1"><div class="li"> Définir la fonction <strong>récursive</strong> <code>simplify: path → path</code> simplifiant une piste en supprimant <strong>toutes</strong> les directives successives inverses (cela correspond à éviter de piétiner)</div>
</li>
</ol>

</div>

<h3><a name="deplacement" id="deplacement">Déplacement</a></h3>
<div class="level3">

<p>

L&#039;état du chasseur de trésor est donné par un triplet <img src="/~aspicher/Wiki/lib/exe/fetch.php?media=wiki:latex:/imgf1ec8a8968400a0da4234d9c7e49ece0.png" class="latex_inline" alt="$(x,y,\theta)$" title="Math" /> représentant ses coordonnées entières en 2D et son orientation (<em>nord</em>, <em>sud</em>, <em>est</em>, <em>ouest</em>)
</p>

</div>

<h4><a name="questions2" id="questions2">Questions</a></h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Définir le type <code>hunter</code> permettant de représenter l&#039;état d&#039;un chasseur</div>
</li>
<li class="level1"><div class="li"> Définir la fonction <code>move: hunter → directive → hunter</code> calculant le nouvel état d&#039;un chasseur après avoir effectué une directive</div>
</li>
<li class="level1"><div class="li"> Définir la fonction <code>finally: hunter → path → hunter</code> calculant l&#039;état final après avoir suivie une piste à partir d&#039;un état initiale </div>
</li>
<li class="level1"><div class="li"> Définir la fonction <code>initially: hunter → path → hunter</code> calculant l&#039;état initial permettant d&#039;atteindre un état final en suivant une piste</div>
</li>
<li class="level1"><div class="li"> Comparer les stratégies d&#039;appels récursifs des fonctions <code>finally</code> et <code>initially</code></div>
</li>
</ol>



</div>

    <!-- wikipage stop -->
  </div>

  <div class="clearer">&nbsp;</div>

  
  <div class="stylefoot">

    <div class="meta">
      <div class="user">
        Connecté en tant que : L2 Informatique (l2info)      </div>
      <div class="doc">
        l2info/progfct/td6/start.txt &middot; Dernière modification: 2016/03/28 17:27 par aspicher      </div>
    </div>

   
    <div class="bar" id="bar__bottom">
      <div class="bar-left" id="bar__bottomleft">
                              </div>
      <div class="bar-right" id="bar__bottomright">
                                        <form class="button btn_logout" method="get" action="/~aspicher/Wiki/l2info/progfct/td6/start"><div class="no"><input type="hidden" name="do" value="logout" /><input type="hidden" name="sectok" value="9982a477559fae2290d698c173a735d8" /><input type="submit" value="Déconnexion" class="button" title="Déconnexion" /></div></form>                <a class="nolink" href="#dokuwiki__top"><input type="button" class="button" value="Haut de page" onclick="window.scrollTo(0, 0)" title="Haut de page" /></a>&nbsp;
      </div>
      <div class="clearer"></div>
    </div>

  </div>

  <div class="license">Sauf mention contraire, le contenu de ce wiki est placé sous la licence suivante:<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></div>
</div>

<div class="footerinc">

  <a  href="/~aspicher/Wiki/feed.php" title="Recent changes RSS feed"><img src="/~aspicher/Wiki/lib/tpl/default/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" /></a>

        <a  href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" title="CC Attribution-Noncommercial-Share Alike 3.0 Unported"><img src="/~aspicher/Wiki/lib/images/license/button/cc-by-nc-sa.png" width="80" height="15" alt="" /></a>
  
  <a  href="http://www.dokuwiki.org/donate" title="Donate"><img src="/~aspicher/Wiki/lib/tpl/default/images/button-donate.gif" alt="Donate" width="80" height="15" /></a>

  <a  href="http://www.php.net" title="Powered by PHP"><img src="/~aspicher/Wiki/lib/tpl/default/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>

  <a  href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="/~aspicher/Wiki/lib/tpl/default/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" /></a>

  <a  href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS"><img src="/~aspicher/Wiki/lib/tpl/default/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>

  <a  href="http://dokuwiki.org/" title="Driven by DokuWiki"><img src="/~aspicher/Wiki/lib/tpl/default/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>



</div>

<div class="no"><img src="/~aspicher/Wiki/lib/exe/indexer.php?id=l2info%3Aprogfct%3Atd6%3Astart&amp;1459439870" width="1" height="1" alt=""  /></div>
</body>
</html>
